<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html>
  <head>
    <script src="http://code.jquery.com/jquery.js"></script>
    <script src="reghex.js"></script>
    <link href="reghex.css" type="text/css" rel="stylesheet" xmlns="http://www.w3.org/1999/xhtml"/>
  </head>
  <body>
    <svg xmlns="http://www.w3.org/2000/svg" version="1.1" xmlns:xlink="http://www.w3.org/1999/xlink" width="800" height="800">
      <text class="buttons" x="450" y="10">
        <a title="rotate widdershins" xlink:href="#widdershins" class="widdershins">&#8656;</a>
        <a title="rotate clockwise" xlink:href="#clockwise" class="clockwise">&#8658;</a>
      </text>
      <defs>
        <g class="cell selectable">
          <path d="m 17.3205080756888 10 l 0 -20 l -17.3205080756888 -10 l -17.3205080756888 10 l 0 20 l 17.3205080756888 10 z"/>
          <g><animateTransform attributeName="transform" attributeType="XML" type="rotate" dur="1s" fill="freeze"/><text/></g>
        </g>
        <g class="edge"><text x="10"/></g>
      </defs>
      <g transform="translate(450, 400)">
        <g>
          <animateTransform attributeName="transform" attributeType="XML" type="rotate" dur="1s" fill="freeze" class="wheel"/>
          <g class="cells"></g>
          <g class="edges"></g>
        </g>
      </g>
    </svg>
    <script>
      $(function(){
        var $svg = $('svg');
        loadUI($svg);
        $.get('puzzle.json', loadPuzzleInto($svg), 'json');
      });
    </script>
  </body>
</html>
